# Skins Accounts

Create a new application to manage a user's accounts. Initially we will only support skins accounts. Each user will have an account, associated with their user record. An account will consist of a collection of 0-many transactions. A transaction either adds money to the account or withdraws it.

Name = "accounts"

## Models
### Table: skin_transaction
### Fields:
- autogenerated id: django always creates this
- player_id: foreign key to the player table
- season: integer
- transaction_type: up to 20 characters
- transaction_amount: decimal (money)
- transaction_date: date
- transaction_timestamp: datetime
- direction: choice field - Inbound or Outbound

### Table: skin
### Fields:
- autogenerated id: django always creates this
- event_id: foreign key to event table
- course_id: foreign key to the course table
- hole_id: foreign key to the hole table
- player_id: foreign key to the player table
- skin_type: choice field - Gross or Net
- skin_amount: decimal (money)
- is_team: boolean, default to false

### Table: skin_settings
- autogenerated id: django always creates this
- player_id: foreign key to the player table
- payment_frequency: choice field - Bi-Monthly, Monthly, Season End

## Views
Create a `ModelViewSet` for each model to support CRUD operations.

Support the following access patterns:
- Select skins won by player and (optionally) season
- Select skins won by event
- Select skins transactions by player and (optionally) season
- Select a player's skin settings
- Select a player's current non-paid skins balance

## Tasks
### Generate Scheduled Payments
For a given date as a param where the date is the 1st or 15th of the month, create skin transactions that meet the following criteria for each player:
- For payments on the 1st, include all players whose payment frequency setting is Bi-Monthly or Monthly.
- For payments on the 15th, include only players whose payment frequenc setting is Bi-Monthly.
- For end of season (October 1), include all players.
- Calculate the amount of skins won that have not already been paid.
- Create a transaction record if the amount is > 0. 

## Reports
### Skins Payment Report
Create a report view that returns a summary of all outbound transactions where the transaction type is "Scheduled Payment", the transaction date is the date given as a param, and the direction is outbound. The summary should contain one row per player with the following data points:
- player name
- player ghin
- scheduled payment date (transaction_date)
- amount

## Admin
Manage all three tables
Filter all three tables by player
Filter skin and skin_transaction by season
Filter skin by event
Use date hierarchy on the skin and skin_transaction admin pages

## Serializer
Serializer classes to support the views